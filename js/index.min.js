const modalButton=document.querySelector(".modal-button"),modalMail=document.querySelector(".modal-mail"),modalClose=modalMail.querySelector(".modal-close"),formMail=modalMail.querySelector(".write-form"),loginName=modalMail.querySelector(".login-name"),email=modalMail.querySelector(".email-name");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}modalButton.addEventListener("click",function(e){e.preventDefault(),modalMail.classList.add("modal-show"),storage?(loginName.value=storage,email.focus()):loginName.focus()}),modalClose.addEventListener("click",function(e){e.preventDefault(),modalMail.classList.remove("modal-show"),modalMail.classList.remove("modal-error")}),formMail.addEventListener("submit",function(e){loginName.value&&email.value?isStorageSupport&&localStorage.setItem("login",login.value):(e.preventDefault(),modalMail.classList.remove("modal-error"),modalMail.offsetWidth=modalMail.offsetWidth,modalMail.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalMail.classList.contains("modal-show")&&(e.preventDefault(),modalMail.classList.remove("modal-show"),modalMail.classList.remove("modal-error"))});const mapButton=document.querySelector(".map-button"),modalMap=document.querySelector(".modal-map"),modalCloseButton=modalMap.querySelector(".modal-close-button");mapButton.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),modalCloseButton.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalMap.classList.contains("modal-show")&&(e.preventDefault(),modalMap.classList.remove("modal-show"))});const buyLinks=document.querySelectorAll(".buy-link"),modalBasket=document.querySelector(".modal-basket"),modalCloseBasket=modalBasket.querySelector(".modal-close"),catalogPage=modalBasket.querySelector(".catalog-page");for(let e of buyLinks)e.addEventListener("click",function(e){e.preventDefault(),modalBasket.classList.add("modal-show")});function toggleTabSlides(){const e=document.querySelectorAll(".service-button"),o=document.querySelectorAll(".tabs-slide");for(let t of e)t.addEventListener("click",function(e){console.log("Кнопка нажата"),document.querySelector(".button-active").classList.remove("button-active"),t.classList.add("button-active");const l=document.querySelector(".active-slide");o.forEach(e=>{l.classList.remove("active-slide"),e.id===`slide-for-${t.id}`&&e.classList.add("active-slide")})})}function togglePromo(){const e=document.querySelectorAll(".slide-btn");document.querySelectorAll(".slider-content");e.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const t=document.querySelector(".slider-current"),l=t.nextElementSibling,a=t.previousElementSibling;e.classList.contains("slide-btn--next")&&null!==l&&(t.classList.remove("slider-current"),l.classList.add("slider-current")),e.classList.contains("slide-btn--prev")&&null!==a&&(t.classList.remove("slider-current"),a.classList.add("slider-current"))})})}modalCloseBasket.addEventListener("click",function(e){e.preventDefault(),modalBasket.classList.remove("modal-show")}),catalogPage.addEventListener("click",function(e){e.preventDefault(),modalBasket.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalBasket.classList.contains("modal-show")&&(e.preventDefault(),modalBasket.classList.remove("modal-show"))}),toggleTabSlides(),togglePromo();